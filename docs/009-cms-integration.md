# 009 - CMS統合

## 概要
ブログコンテンツ管理のためのヘッドレスCMSを統合する

## 要件
- ヘッドレスCMSの選定と設定
- APIクライアントの実装
- コンテンツの取得と表示
- エラーハンドリングとキャッシュ

## タスク

### 必須タスク
- [ ] CMSサービスの選定と設定
  - [ ] Contentful/Strapi/microCMSの評価
  - [ ] アカウント作成
  - [ ] コンテンツモデルの定義
  - [ ] APIキーの取得
- [ ] コンテンツモデルの設計
  - [ ] 記事（Article）スキーマ
    - [ ] タイトル、本文、概要
    - [ ] カテゴリー、タグ
    - [ ] サムネイル画像
    - [ ] 公開日、更新日
  - [ ] カテゴリー（Category）スキーマ
  - [ ] タグ（Tag）スキーマ
  - [ ] 著者（Author）スキーマ
- [ ] APIクライアントの実装
  - [ ] api/cms.jsの作成
  - [ ] 記事一覧取得関数
  - [ ] 記事詳細取得関数
  - [ ] カテゴリー/タグ取得関数
  - [ ] ページネーション対応
- [ ] Piniaストアの実装
  - [ ] stores/blog.jsの作成
  - [ ] 記事データの状態管理
  - [ ] キャッシュ戦略の実装
- [ ] 既存コンポーネントとの統合
  - [ ] BlogList.vueの更新
  - [ ] BlogDetail.vueの更新
  - [ ] ダミーデータからCMSデータへの切り替え

### オプションタスク
- [ ] プレビュー機能の実装
- [ ] Webhook連携（自動デプロイ）
- [ ] 画像最適化サービスとの連携
- [ ] 全文検索機能

## 技術詳細
- **API通信**: fetch API または axios
- **認証**: APIキーの環境変数管理
- **エラー処理**: try-catch と フォールバック
- **キャッシュ**: LocalStorage または SessionStorage

## CMS選定基準
| 項目 | Contentful | Strapi | microCMS |
|------|------------|---------|----------|
| 料金 | 無料プランあり | セルフホスト可 | 無料プランあり |
| 日本語対応 | △ | △ | ◎ |
| API | GraphQL/REST | REST | REST |
| 管理画面 | ◎ | ○ | ◎ |

## 環境変数設定
```env
VITE_CMS_API_KEY=your-api-key
VITE_CMS_BASE_URL=https://api.contentful.com
VITE_CMS_SPACE_ID=your-space-id
```

## 完了条件
- CMSから記事データが取得できる
- 記事一覧・詳細が表示される
- エラー時のフォールバック表示
- 環境変数での設定管理

## メモ
- 開発環境と本番環境でAPIキーを分ける
- レート制限に注意（キャッシュ活用）